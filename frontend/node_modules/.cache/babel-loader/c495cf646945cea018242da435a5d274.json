{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import Loading from\"../Errors/Loading\";import ErrorMessage from\"../Errors/ErrorMes\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var history=_ref.history;var Navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;config={headers:{\"Content-type\":\"application/json\"}};setLoading(true);_context.next=6;return axios.post(\"http://localhost:8000/login\",{email:email,password:password},config).then(function(res){return localStorage.setItem(\"token\",JSON.stringify(res.data.token));});case 6:data=_context.sent;Navigate(\"/dashboard/general\");setLoading(false);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setMessage(_context.t0.response.data.message);setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"main_log\",children:/*#__PURE__*/_jsx(\"div\",{className:\"log_container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"log_items\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"head_log\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[message&&/*#__PURE__*/_jsx(ErrorMessage,{children:message}),loading&&/*#__PURE__*/_jsx(Loading,{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,placeholder:\"Enter your password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"log_button\",onClick:submitHandler,children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"or\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"New User ? Signup here\"})})]})})});};export default Login;","map":{"version":3,"sources":["/Users/arshbrar/ALL-FILES/Newsapp/frontend/src/Components/Login/Login.js"],"names":["React","useState","Link","useNavigate","axios","Loading","ErrorMessage","Login","history","Navigate","email","setEmail","password","setPassword","message","setMessage","loading","setLoading","submitHandler","e","preventDefault","config","headers","post","then","res","localStorage","setItem","JSON","stringify","data","token","response","target","value"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAO,aAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC7B,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAAgCV,QAAQ,CAAC,EAAD,CAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eACA,eAA8BZ,QAAQ,CAAC,KAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAA8Bd,QAAQ,CAAC,KAAD,CAAtC,yCAAOe,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,aAAa,2FAAG,iBAAOC,CAAP,kIACpBA,CAAC,CAACC,cAAF,GADoB,gBAGZC,MAHY,CAGH,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CADI,CAHG,CAQlBL,UAAU,CAAC,IAAD,CAAV,CARkB,sBASCb,CAAAA,KAAK,CACrBmB,IADgB,CAEf,6BAFe,CAGf,CACEb,KAAK,CAALA,KADF,CAEEE,QAAQ,CAARA,QAFF,CAHe,CAOfS,MAPe,EAShBG,IATgB,CASX,SAACC,GAAD,QACJC,CAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAJ,CAASC,KAAxB,CAA9B,CADI,EATW,CATD,QASZD,IATY,eAqBlBrB,QAAQ,CAAC,oBAAD,CAAR,CACAQ,UAAU,CAAC,KAAD,CAAV,CAtBkB,iFAwBlBF,UAAU,CAAC,YAAMiB,QAAN,CAAeF,IAAf,CAAoBhB,OAArB,CAAV,CACAG,UAAU,CAAC,KAAD,CAAV,CAzBkB,qEAAH,kBAAbC,CAAAA,aAAa,6CAAnB,CA6BA,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,kCACE,WAAI,SAAS,CAAC,UAAd,mBADF,EADF,cAIE,aAAK,SAAS,CAAC,OAAf,WACGJ,OAAO,eAAI,KAAC,YAAD,WAAeA,OAAf,EADd,CAEGE,OAAO,eAAI,KAAC,OAAD,IAFd,GAJF,cAQE,oCACE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAEN,KAHT,CAIE,WAAW,CAAC,kBAJd,CAKE,QAAQ,CAAE,kBAACS,CAAD,QAAOR,CAAAA,QAAQ,CAACQ,CAAC,CAACc,MAAF,CAASC,KAAV,CAAf,EALZ,EADF,cAQE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEtB,QAHT,CAIE,WAAW,CAAC,qBAJd,CAKE,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,WAAW,CAACM,CAAC,CAACc,MAAF,CAASC,KAAV,CAAlB,EALZ,EARF,GARF,cAwBE,kCACE,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAEhB,aAAxC,mBADF,EAxBF,cA6BE,2BA7BF,cA8BE,kCACE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,oCADF,EA9BF,GADF,EADF,EADF,CAwCD,CA5ED,CA8EA,cAAeX,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Loading from \"../Errors/Loading\";\nimport ErrorMessage from \"../Errors/ErrorMes\";\nimport \"./Login.css\";\n\nconst Login = ({ history }) => {\n  const Navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n      setLoading(true);\n      const data = await axios\n        .post(\n          \"http://localhost:8000/login\",\n          {\n            email,\n            password,\n          },\n          config\n        )\n        .then((res) =>\n          localStorage.setItem(\"token\", JSON.stringify(res.data.token))\n        );\n      Navigate(\"/dashboard/general\");\n      setLoading(false);\n    } catch (error) {\n      setMessage(error.response.data.message);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"main_log\">\n      <div className=\"log_container\">\n        <div className=\"log_items\">\n          <div>\n            <h2 className=\"head_log\">Login</h2>\n          </div>\n          <div className=\"error\">\n            {message && <ErrorMessage>{message}</ErrorMessage>}\n            {loading && <Loading />}\n          </div>\n          <div>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              placeholder=\"Enter your email\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              placeholder=\"Enter your password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <div>\n            <button className=\"log_button\" onClick={submitHandler}>\n              Login\n            </button>\n          </div>\n          <div>or</div>\n          <div>\n            <Link to=\"/register\">New User ? Signup here</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}