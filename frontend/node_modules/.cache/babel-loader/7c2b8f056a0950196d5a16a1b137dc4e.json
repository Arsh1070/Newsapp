{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/arshbrar/ALL-FILES/Newsapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useEffect,useState}from\"react\";import{Routes,Route,useNavigate}from\"react-router-dom\";import General from\"./Components/MainScreen/General\";import Page from\"./Components/Errors/NotFound\";import\"./App.css\";import Register from\"./Components/Register/Register\";import Login from\"./Components/Login/Login\";import axios from\"axios\";import LandingScreen from\"./Components/LandingPage/LandingScreen\";import DashBoard from\"./Components/MainScreen/DashBoard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var Navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newsArray=_useState2[0],setNewsArray=_useState2[1];var _useState3=useState(\"general\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),token=_useState6[0],setToken=_useState6[1];var recCatalog=function recCatalog(category){setCategory(category);};var newsApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var news;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://newsapi.org/v2/top-headlines?country=in&category=\".concat(category,\"&apiKey=5a9eb011fe414b3ab2171e0bcfa50a12\"));case 3:news=_context.sent;setNewsArray(news.data.articles);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function newsApi(){return _ref.apply(this,arguments);};}();useEffect(function(){var getToken=JSON.parse(localStorage.getItem(\"token\"));setToken(getToken);if(token){Navigate(\"/dashboard/general\");}else{Navigate(\"/login\");}newsApi();},[category,token]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(DashBoard,{clickedCatalog:recCatalog}),children:/*#__PURE__*/_jsx(Route,{path:\"/dashboard/general\",element:/*#__PURE__*/_jsx(General,{gen:newsArray,category:category})})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(Page,{})})]})});}export default App;","map":{"version":3,"sources":["/Users/arshbrar/ALL-FILES/Newsapp/frontend/src/App.js"],"names":["React","useEffect","useState","Routes","Route","useNavigate","General","Page","Register","Login","axios","LandingScreen","DashBoard","App","Navigate","newsArray","setNewsArray","category","setCategory","token","setToken","recCatalog","newsApi","get","news","data","articles","console","log","getToken","JSON","parse","localStorage","getItem"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,WAAxB,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,iCAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wCAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,C,6IAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,cAAkCH,QAAQ,CAAC,EAAD,CAA1C,wCAAOa,SAAP,eAAkBC,YAAlB,eACA,eAAgCd,QAAQ,CAAC,SAAD,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eACA,eAA0BhB,QAAQ,CAAC,EAAD,CAAlC,yCAAOiB,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACJ,QAAD,CAAc,CAC/BC,WAAW,CAACD,QAAD,CAAX,CACD,CAFD,CAIA,GAAMK,CAAAA,OAAO,0FAAG,kLAEOZ,CAAAA,KAAK,CAACa,GAAN,oEAC2CN,QAD3C,6CAFP,QAENO,IAFM,eAKZR,YAAY,CAACQ,IAAI,CAACC,IAAL,CAAUC,QAAX,CAAZ,CALY,+EAOZC,OAAO,CAACC,GAAR,cAPY,oEAAH,kBAAPN,CAAAA,OAAO,0CAAb,CAWArB,SAAS,CAAC,UAAM,CACd,GAAM4B,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAjB,CACAb,QAAQ,CAACS,QAAD,CAAR,CACA,GAAIV,KAAJ,CAAW,CACTL,QAAQ,CAAC,oBAAD,CAAR,CACD,CAFD,IAEO,CACLA,QAAQ,CAAC,QAAD,CAAR,CACD,CACDQ,OAAO,GACR,CATQ,CASN,CAACL,QAAD,CAAWE,KAAX,CATM,CAAT,CAWA,mBACE,sCACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,aAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,QAAD,IAAjC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,IAA9B,EAHF,cAIE,KAAC,KAAD,EACE,IAAI,CAAC,YADP,CAEE,OAAO,cAAE,KAAC,SAAD,EAAW,cAAc,CAAEE,UAA3B,EAFX,uBAIE,KAAC,KAAD,EACE,IAAI,CAAC,oBADP,CAEE,OAAO,cAAE,KAAC,OAAD,EAAS,GAAG,CAAEN,SAAd,CAAyB,QAAQ,CAAEE,QAAnC,EAFX,EAJF,EAJF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,IAAZ,CAAiB,OAAO,cAAE,KAAC,IAAD,IAA1B,EAbF,GADF,EADF,CAmBD,CAED,cAAeJ,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport General from \"./Components/MainScreen/General\";\nimport Page from \"./Components/Errors/NotFound\";\nimport \"./App.css\";\nimport Register from \"./Components/Register/Register\";\nimport Login from \"./Components/Login/Login\";\nimport axios from \"axios\";\nimport LandingScreen from \"./Components/LandingPage/LandingScreen\";\nimport DashBoard from \"./Components/MainScreen/DashBoard\";\n\nfunction App() {\n  const Navigate = useNavigate();\n  const [newsArray, setNewsArray] = useState([]);\n  const [category, setCategory] = useState(\"general\");\n  const [token, setToken] = useState(\"\");\n\n  const recCatalog = (category) => {\n    setCategory(category);\n  };\n\n  const newsApi = async () => {\n    try {\n      const news = await axios.get(\n        `https://newsapi.org/v2/top-headlines?country=in&category=${category}&apiKey=5a9eb011fe414b3ab2171e0bcfa50a12`\n      );\n      setNewsArray(news.data.articles);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const getToken = JSON.parse(localStorage.getItem(\"token\"));\n    setToken(getToken);\n    if (token) {\n      Navigate(\"/dashboard/general\");\n    } else {\n      Navigate(\"/login\");\n    }\n    newsApi();\n  }, [category, token]);\n\n  return (\n    <>\n      <Routes>\n        <Route path=\"/\" element={<LandingScreen />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route\n          path=\"/dashboard\"\n          element={<DashBoard clickedCatalog={recCatalog} />}\n        >\n          <Route\n            path=\"/dashboard/general\"\n            element={<General gen={newsArray} category={category} />}\n          />\n        </Route>\n        <Route path=\"/*\" element={<Page />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}